var rt=Object.defineProperty;var it=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>(it(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function X(){}function at(e,t){for(const n in t)e[n]=t[n];return e}function Xe(e){return e()}function Me(){return Object.create(null)}function Q(e){e.forEach(Xe)}function Ye(e){return typeof e=="function"}function be(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ut(e){return Object.keys(e).length===0}function ct(e,...t){if(e==null){for(const l of t)l(void 0);return X}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function me(e,t,n){e.$$.on_destroy.push(ct(t,n))}function ft(e,t,n,l){if(e){const o=Ze(e,t,n,l);return e[0](o)}}function Ze(e,t,n,l){return e[1]&&l?at(n.ctx.slice(),e[1](l(t))):n.ctx}function pt(e,t,n,l){if(e[2]&&l){const o=e[2](l(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let u=0;u<s;u+=1)r[u]=t.dirty[u]|o[u];return r}return t.dirty|o}return t.dirty}function dt(e,t,n,l,o,r){if(o){const s=Ze(t,n,l,r);e.p(s,o)}}function _t(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function i(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function je(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function D(){return k(" ")}function mt(){return k("")}function R(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function De(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ht(e){return Array.from(e.childNodes)}function j(e,t){t=""+t,e.data!==t&&(e.data=t)}function ze(e,t){e.value=t??""}function Ae(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function $e(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}let fe;function ue(e){fe=e}function xe(){if(!fe)throw new Error("Function called outside component initialization");return fe}function bt(e){xe().$$.on_mount.push(e)}function gt(e){xe().$$.on_destroy.push(e)}function ve(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const le=[],Te=[];let se=[];const Fe=[],vt=Promise.resolve();let ke=!1;function yt(){ke||(ke=!0,vt.then(et))}function we(e){se.push(e)}const ye=new Set;let te=0;function et(){if(te!==0)return;const e=fe;do{try{for(;te<le.length;){const t=le[te];te++,ue(t),kt(t.$$)}}catch(t){throw le.length=0,te=0,t}for(ue(null),le.length=0,te=0;Te.length;)Te.pop()();for(let t=0;t<se.length;t+=1){const n=se[t];ye.has(n)||(ye.add(n),n())}se.length=0}while(le.length);for(;Fe.length;)Fe.pop()();ke=!1,ye.clear(),ue(e)}function kt(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(we)}}function wt(e){const t=[],n=[];se.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),se=t}const he=new Set;let Z;function Et(){Z={r:0,c:[],p:Z}}function jt(){Z.r||Q(Z.c),Z=Z.p}function x(e,t){e&&e.i&&(he.delete(e),e.i(t))}function pe(e,t,n,l){if(e&&e.o){if(he.has(e))return;he.add(e),Z.c.push(()=>{he.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function re(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function tt(e){e&&e.c()}function Ne(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),we(()=>{const r=e.$$.on_mount.map(Xe).filter(Ye);e.$$.on_destroy?e.$$.on_destroy.push(...r):Q(r),e.$$.on_mount=[]}),o.forEach(we)}function Pe(e,t){const n=e.$$;n.fragment!==null&&(wt(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(e,t){e.$$.dirty[0]===-1&&(le.push(e),yt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Se(e,t,n,l,o,r,s,u=[-1]){const m=fe;ue(e);const a=e.$$={fragment:null,ctx:[],props:r,update:X,not_equal:o,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:Me(),dirty:u,skip_bound:!1,root:t.target||m.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(h,b,...g)=>{const N=g.length?g[0]:b;return a.ctx&&o(a.ctx[h],a.ctx[h]=N)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](N),f&&Dt(e,h)),b}):[],a.update(),f=!0,Q(a.before_update),a.fragment=l?l(a.ctx):!1,t.target){if(t.hydrate){const h=ht(t.target);a.fragment&&a.fragment.l(h),h.forEach(A)}else a.fragment&&a.fragment.c();t.intro&&x(e.$$.fragment),Ne(e,t.target,t.anchor),et()}ue(m)}class Ie{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){Pe(this,1),this.$destroy=X}$on(t,n){if(!Ye(n))return X;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!ut(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Nt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nt);const ae=new Map,Pt=e=>{const{action:t,data:n}=e.data,l=ae.get(t);l&&l.forEach(o=>o(n))};window.addEventListener("message",Pt);function Be(e,t){const n=ae.get(e)||[];n.push(t),ae.set(e,n),gt(()=>{const l=ae.get(e)||[];ae.set(e,l.filter(o=>o!==t))})}async function Y(e,t={}){const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},l=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app";return await(await fetch(`https://${l}/${e}`,n)).json()}const ne=[];function de(e,t=X){let n;const l=new Set;function o(u){if(be(e,u)&&(e=u,n)){const m=!ne.length;for(const a of l)a[1](),ne.push(a,e);if(m){for(let a=0;a<ne.length;a+=2)ne[a][0](ne[a+1]);ne.length=0}}}function r(u){o(u(e))}function s(u,m=X){const a=[u,m];return l.add(a),l.size===1&&(n=t(o,r)||X),u(e),()=>{l.delete(a),l.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}const ce=de(!1),oe=de(null),nt=de(null),Ee=de(null),lt=de(null);function Ge(e){let t;const n=e[2].default,l=ft(n,e,e[1],null);return{c(){l&&l.c()},m(o,r){l&&l.m(o,r),t=!0},p(o,r){l&&l.p&&(!t||r&2)&&dt(l,n,o,o[1],t?pt(n,o[1],r,null):_t(o[1]),null)},i(o){t||(x(l,o),t=!0)},o(o){pe(l,o),t=!1},d(o){l&&l.d(o)}}}function St(e){let t,n,l=e[0]&&Ge(e);return{c(){t=d("main"),l&&l.c()},m(o,r){B(o,t,r),l&&l.m(t,null),n=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&x(l,1)):(l=Ge(o),l.c(),x(l,1),l.m(t,null)):l&&(Et(),pe(l,1,1,()=>{l=null}),jt())},i(o){n||(x(l),n=!0)},o(o){pe(l),n=!1},d(o){o&&A(t),l&&l.d()}}}function It(e,t,n){let{$$slots:l={},$$scope:o}=t,r;return ce.subscribe(s=>{n(0,r=s)}),Be("openBossMenu",s=>{ce.set(!0),nt.set(s.job),oe.set(s.employees),Ee.set(s.nearby)}),Be("getLanguage",s=>{lt.set(s.language)}),bt(()=>{const s=u=>{r&&["Escape"].includes(u.code)&&(Y("hideUI"),ce.set(!1))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)}),e.$$set=s=>{"$$scope"in s&&n(1,o=s.$$scope)},[r,o,l]}class Ct extends Ie{constructor(t){super(),Se(this,t,It,St,be,{})}}function He(e,t,n){const l=e.slice();return l[32]=t[n],l}function Le(e,t,n){const l=e.slice();return l[35]=t[n],l}function Ve(e,t,n){const l=e.slice();return l[38]=t[n],l}function Ot(e){let t,n,l=e[7].no_employees+"",o,r,s,u=e[7].no_employees_desc+"",m;return{c(){t=d("div"),n=d("p"),o=k(l),r=D(),s=d("p"),m=k(u),_(n,"class","svelte-6nxe6p"),_(s,"class","empty-subtitle svelte-6nxe6p"),_(t,"class","empty-state svelte-6nxe6p")},m(a,f){B(a,t,f),i(t,n),i(n,o),i(t,r),i(t,s),i(s,m)},p(a,f){f[0]&128&&l!==(l=a[7].no_employees+"")&&j(o,l),f[0]&128&&u!==(u=a[7].no_employees_desc+"")&&j(m,u)},d(a){a&&A(t)}}}function Mt(e){let t,n=re(e[8]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Je(Le(e,n,o));return{c(){t=d("div");for(let o=0;o<l.length;o+=1)l[o].c();_(t,"class","employee-grid svelte-6nxe6p")},m(o,r){B(o,t,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null)},p(o,r){if(r[0]&37313){n=re(o[8]);let s;for(s=0;s<n.length;s+=1){const u=Le(o,n,s);l[s]?l[s].p(u,r):(l[s]=Je(u),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(o){o&&A(t),je(l,o)}}}function We(e){let t,n,l=e[7].employeeCard.pay+"",o,r,s,u=e[7].currency+"",m,a=e[35].jobData.pay+"",f;return{c(){t=d("div"),n=d("span"),o=k(l),r=D(),s=d("span"),m=k(u),f=k(a),_(n,"class","label svelte-6nxe6p"),_(s,"class","value svelte-6nxe6p"),_(t,"class","info-row svelte-6nxe6p")},m(h,b){B(h,t,b),i(t,n),i(n,o),i(t,r),i(t,s),i(s,m),i(s,f)},p(h,b){b[0]&128&&l!==(l=h[7].employeeCard.pay+"")&&j(o,l),b[0]&128&&u!==(u=h[7].currency+"")&&j(m,u),b[0]&256&&a!==(a=h[35].jobData.pay+"")&&j(f,a)},d(h){h&&A(t)}}}function zt(e){let t,n,l,o,r=e[7].employeeCard.fire+"",s,u,m,a=re(e[6]),f=[];for(let g=0;g<a.length;g+=1)f[g]=qe(Ve(e,a,g));function h(...g){return e[21](e[35],...g)}function b(){return e[22](e[35])}return{c(){t=d("select");for(let g=0;g<f.length;g+=1)f[g].c();l=D(),o=d("button"),s=k(r),_(t,"class","grade-select svelte-6nxe6p"),_(o,"class","fire-btn svelte-6nxe6p")},m(g,N){B(g,t,N);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(t,null);$e(t,parseInt(e[35].jobData.grade)),B(g,l,N),B(g,o,N),i(o,s),u||(m=[R(t,"change",h),R(o,"click",b)],u=!0)},p(g,N){if(e=g,N[0]&64){a=re(e[6]);let y;for(y=0;y<a.length;y+=1){const M=Ve(e,a,y);f[y]?f[y].p(M,N):(f[y]=qe(M),f[y].c(),f[y].m(t,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=a.length}N[0]&320&&n!==(n=parseInt(e[35].jobData.grade))&&$e(t,parseInt(e[35].jobData.grade)),N[0]&128&&r!==(r=e[7].employeeCard.fire+"")&&j(s,r)},d(g){g&&(A(t),A(l),A(o)),je(f,g),u=!1,Q(m)}}}function At(e){let t,n=e[7].employeeCard.highest+"",l;return{c(){t=d("span"),l=k(n),_(t,"class","label svelte-6nxe6p")},m(o,r){B(o,t,r),i(t,l)},p(o,r){r[0]&128&&n!==(n=o[7].employeeCard.highest+"")&&j(l,n)},d(o){o&&A(t)}}}function qe(e){let t,n=e[38].name+"",l,o;return{c(){t=d("option"),l=k(n),t.__value=o=e[38].grade,ze(t,t.__value)},m(r,s){B(r,t,s),i(t,l)},p(r,s){s[0]&64&&n!==(n=r[38].name+"")&&j(l,n),s[0]&64&&o!==(o=r[38].grade)&&(t.__value=o,ze(t,t.__value))},d(r){r&&A(t)}}}function Je(e){let t,n,l,o,r,s=e[35].name+"",u,m,a,f,h,b=e[7].employeeCard.rank+"",g,N,y,M=e[35].jobData.gradeLabel+"",$,T,I,w,O,q,P=e[35].jobData.pay!==void 0&&We(e);function U(E,z){var K;return z[0]&257&&(O=null),O==null&&(O=!!((K=E[0].grades[E[35].jobData.grade.toString()])!=null&&K.isboss)),O?At:zt}let G=U(e,[-1,-1]),S=G(e);return{c(){t=d("div"),n=d("div"),l=d("div"),o=D(),r=d("h3"),u=k(s),m=D(),a=d("div"),f=d("div"),h=d("span"),g=k(b),N=D(),y=d("span"),$=k(M),T=D(),P&&P.c(),I=D(),w=d("div"),S.c(),q=D(),_(l,"class","status-indicator svelte-6nxe6p"),Ae(l,"background-color",e[35].online?"#22c55e":"#ef4444"),_(r,"class","svelte-6nxe6p"),_(n,"class","card-header svelte-6nxe6p"),_(h,"class","label svelte-6nxe6p"),_(y,"class","value svelte-6nxe6p"),_(f,"class","info-row svelte-6nxe6p"),_(a,"class","employee-info svelte-6nxe6p"),_(w,"class","card-actions svelte-6nxe6p"),_(t,"class","employee-card svelte-6nxe6p")},m(E,z){B(E,t,z),i(t,n),i(n,l),i(n,o),i(n,r),i(r,u),i(t,m),i(t,a),i(a,f),i(f,h),i(h,g),i(f,N),i(f,y),i(y,$),i(a,T),P&&P.m(a,null),i(t,I),i(t,w),S.m(w,null),i(t,q)},p(E,z){z[0]&256&&Ae(l,"background-color",E[35].online?"#22c55e":"#ef4444"),z[0]&256&&s!==(s=E[35].name+"")&&j(u,s),z[0]&128&&b!==(b=E[7].employeeCard.rank+"")&&j(g,b),z[0]&256&&M!==(M=E[35].jobData.gradeLabel+"")&&j($,M),E[35].jobData.pay!==void 0?P?P.p(E,z):(P=We(E),P.c(),P.m(a,null)):P&&(P.d(1),P=null),G===(G=U(E,z))&&S?S.p(E,z):(S.d(1),S=G(E),S&&(S.c(),S.m(w,null)))},d(E){E&&A(t),P&&P.d(),S.d()}}}function Re(e){let t,n,l,o=e[7].hire_employee_panel.title+"",r,s,u,m=e[7].hire_employee_panel.description+"",a,f,h,b,g=e[7].buttons.cancel+"",N,y,M;function $(w,O){return w[9]&&w[9].length>0?Tt:$t}let T=$(e),I=T(e);return{c(){t=d("div"),n=d("div"),l=d("h2"),r=k(o),s=D(),u=d("p"),a=k(m),f=D(),I.c(),h=D(),b=d("button"),N=k(g),_(l,"class","svelte-6nxe6p"),_(u,"class","modal-subtitle svelte-6nxe6p"),_(b,"class","cancel-btn svelte-6nxe6p"),_(n,"class","modal svelte-6nxe6p"),_(t,"class","modal-overlay svelte-6nxe6p")},m(w,O){B(w,t,O),i(t,n),i(n,l),i(l,r),i(n,s),i(n,u),i(u,a),i(n,f),I.m(n,null),i(n,h),i(n,b),i(b,N),y||(M=[R(b,"click",e[24]),R(n,"click",De(e[19])),R(t,"click",e[25])],y=!0)},p(w,O){O[0]&128&&o!==(o=w[7].hire_employee_panel.title+"")&&j(r,o),O[0]&128&&m!==(m=w[7].hire_employee_panel.description+"")&&j(a,m),T===(T=$(w))&&I?I.p(w,O):(I.d(1),I=T(w),I&&(I.c(),I.m(n,h))),O[0]&128&&g!==(g=w[7].buttons.cancel+"")&&j(N,g)},d(w){w&&A(t),I.d(),y=!1,Q(M)}}}function $t(e){let t,n=e[7].hire_employee_panel.no_players+"",l;return{c(){t=d("p"),l=k(n),_(t,"class","no-players svelte-6nxe6p")},m(o,r){B(o,t,r),i(t,l)},p(o,r){r[0]&128&&n!==(n=o[7].hire_employee_panel.no_players+"")&&j(l,n)},d(o){o&&A(t)}}}function Tt(e){let t,n=re(e[9]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Ue(He(e,n,o));return{c(){t=d("div");for(let o=0;o<l.length;o+=1)l[o].c();_(t,"class","player-list svelte-6nxe6p")},m(o,r){B(o,t,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null)},p(o,r){if(r[0]&66048){n=re(o[9]);let s;for(s=0;s<n.length;s+=1){const u=He(o,n,s);l[s]?l[s].p(u,r):(l[s]=Ue(u),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(o){o&&A(t),je(l,o)}}}function Ue(e){let t,n=e[32].name+"",l,o,r,s;function u(){return e[23](e[32])}return{c(){t=d("button"),l=k(n),o=D(),_(t,"class","player-item svelte-6nxe6p")},m(m,a){B(m,t,a),i(t,l),i(t,o),r||(s=R(t,"click",u),r=!0)},p(m,a){e=m,a[0]&512&&n!==(n=e[32].name+"")&&j(l,n)},d(m){m&&A(t),r=!1,s()}}}function Ke(e){let t,n,l,o=e[7].fire_employee_panel.title+"",r,s,u,m=e[7].fire_employee_panel.description+"",a,f,h,b=e[3].name+"",g,N,y,M,$=e[7].fire_employee_panel.cant_be_undone+"",T,I,w,O,q=e[7].buttons.cancel+"",P,U,G,S=e[7].fire_employee_panel.confirm_fire+"",E,z,K;return{c(){t=d("div"),n=d("div"),l=d("h2"),r=k(o),s=D(),u=d("p"),a=k(m),f=D(),h=d("strong"),g=k(b),N=k("?"),y=D(),M=d("p"),T=k($),I=D(),w=d("div"),O=d("button"),P=k(q),U=D(),G=d("button"),E=k(S),_(l,"class","svelte-6nxe6p"),_(h,"class","svelte-6nxe6p"),_(u,"class","modal-subtitle svelte-6nxe6p"),_(M,"class","warning-text svelte-6nxe6p"),_(O,"class","cancel-btn svelte-6nxe6p"),_(G,"class","confirm-fire-btn svelte-6nxe6p"),_(w,"class","confirm-actions svelte-6nxe6p"),_(n,"class","modal confirm-modal svelte-6nxe6p"),_(t,"class","modal-overlay svelte-6nxe6p")},m(W,H){B(W,t,H),i(t,n),i(n,l),i(l,r),i(n,s),i(n,u),i(u,a),i(u,f),i(u,h),i(h,g),i(u,N),i(n,y),i(n,M),i(M,T),i(n,I),i(n,w),i(w,O),i(O,P),i(w,U),i(w,G),i(G,E),z||(K=[R(O,"click",e[26]),R(G,"click",e[27]),R(n,"click",De(e[18])),R(t,"click",e[28])],z=!0)},p(W,H){H[0]&128&&o!==(o=W[7].fire_employee_panel.title+"")&&j(r,o),H[0]&128&&m!==(m=W[7].fire_employee_panel.description+"")&&j(a,m),H[0]&8&&b!==(b=W[3].name+"")&&j(g,b),H[0]&128&&$!==($=W[7].fire_employee_panel.cant_be_undone+"")&&j(T,$),H[0]&128&&q!==(q=W[7].buttons.cancel+"")&&j(P,q),H[0]&128&&S!==(S=W[7].fire_employee_panel.confirm_fire+"")&&j(E,S)},d(W){W&&A(t),z=!1,Q(K)}}}function Qe(e){var C;let t,n,l,o=e[7].promotion_panel.title+"",r,s,u,m=e[7].promotion_panel.description+"",a,f,h,b=e[5].employee.name+"",g,N=e[7].promotion_panel.description2+"",y,M,$,T=((C=e[6].find(e[29]))==null?void 0:C.name)+"",I,w,O,q,P=e[7].promotion_panel.warning+"",U,G,S,E,z=e[7].buttons.cancel+"",K,W,H,J=e[7].promotion_panel.confirm_promote+"",L,V,p;return{c(){t=d("div"),n=d("div"),l=d("h2"),r=k(o),s=D(),u=d("p"),a=k(m),f=D(),h=d("strong"),g=k(b),y=k(N),M=D(),$=d("strong"),I=k(T),w=k("?"),O=D(),q=d("p"),U=k(P),G=D(),S=d("div"),E=d("button"),K=k(z),W=D(),H=d("button"),L=k(J),_(l,"class","svelte-6nxe6p"),_(h,"class","svelte-6nxe6p"),_($,"class","svelte-6nxe6p"),_(u,"class","modal-subtitle svelte-6nxe6p"),_(q,"class","warning-text svelte-6nxe6p"),_(E,"class","cancel-btn svelte-6nxe6p"),_(H,"class","confirm-promote-btn svelte-6nxe6p"),_(S,"class","confirm-actions svelte-6nxe6p"),_(n,"class","modal confirm-modal svelte-6nxe6p"),_(t,"class","modal-overlay svelte-6nxe6p")},m(c,v){B(c,t,v),i(t,n),i(n,l),i(l,r),i(n,s),i(n,u),i(u,a),i(u,f),i(u,h),i(h,g),i(u,y),i(u,M),i(u,$),i($,I),i(u,w),i(n,O),i(n,q),i(q,U),i(n,G),i(n,S),i(S,E),i(E,K),i(S,W),i(S,H),i(H,L),V||(p=[R(E,"click",e[30]),R(H,"click",e[14]),R(n,"click",De(e[17])),R(t,"click",e[31])],V=!0)},p(c,v){var F;v[0]&128&&o!==(o=c[7].promotion_panel.title+"")&&j(r,o),v[0]&128&&m!==(m=c[7].promotion_panel.description+"")&&j(a,m),v[0]&32&&b!==(b=c[5].employee.name+"")&&j(g,b),v[0]&128&&N!==(N=c[7].promotion_panel.description2+"")&&j(y,N),v[0]&96&&T!==(T=((F=c[6].find(c[29]))==null?void 0:F.name)+"")&&j(I,T),v[0]&128&&P!==(P=c[7].promotion_panel.warning+"")&&j(U,P),v[0]&128&&z!==(z=c[7].buttons.cancel+"")&&j(K,z),v[0]&128&&J!==(J=c[7].promotion_panel.confirm_promote+"")&&j(L,J)},d(c){c&&A(t),V=!1,Q(p)}}}function Ft(e){var C;let t,n,l,o=(((C=e[0])==null?void 0:C.label)||"Job")+"",r,s,u=e[7].header+"",m,a,f,h,b=e[7].buttons.recruit+"",g,N,y,M=e[7].buttons.stash+"",$,T,I,w=e[7].buttons.wardrobe+"",O,q,P,U,G,S,E,z,K;function W(c,v){return c[8]&&c[8].length>0?Mt:Ot}let H=W(e),J=H(e),L=e[1]&&Re(e),V=e[2]&&e[3]&&Ke(e),p=e[4]&&e[5]&&Qe(e);return{c(){t=d("div"),n=d("div"),l=d("h1"),r=k(o),s=D(),m=k(u),a=D(),f=d("div"),h=d("button"),g=k(b),N=D(),y=d("button"),$=k(M),T=D(),I=d("button"),O=k(w),q=D(),P=d("div"),J.c(),U=D(),L&&L.c(),G=D(),V&&V.c(),S=D(),p&&p.c(),E=mt(),_(l,"class","svelte-6nxe6p"),_(h,"class","action-btn hire-btn svelte-6nxe6p"),_(y,"class","action-btn svelte-6nxe6p"),_(I,"class","action-btn svelte-6nxe6p"),_(f,"class","header-actions svelte-6nxe6p"),_(n,"class","header svelte-6nxe6p"),_(P,"class","content svelte-6nxe6p"),_(t,"class","container svelte-6nxe6p")},m(c,v){B(c,t,v),i(t,n),i(n,l),i(l,r),i(l,s),i(l,m),i(n,a),i(n,f),i(f,h),i(h,g),i(f,N),i(f,y),i(y,$),i(f,T),i(f,I),i(I,O),i(t,q),i(t,P),J.m(P,null),B(c,U,v),L&&L.m(c,v),B(c,G,v),V&&V.m(c,v),B(c,S,v),p&&p.m(c,v),B(c,E,v),z||(K=[R(h,"click",e[20]),R(y,"click",e[10]),R(I,"click",e[11])],z=!0)},p(c,v){var F;v[0]&1&&o!==(o=(((F=c[0])==null?void 0:F.label)||"Job")+"")&&j(r,o),v[0]&128&&u!==(u=c[7].header+"")&&j(m,u),v[0]&128&&b!==(b=c[7].buttons.recruit+"")&&j(g,b),v[0]&128&&M!==(M=c[7].buttons.stash+"")&&j($,M),v[0]&128&&w!==(w=c[7].buttons.wardrobe+"")&&j(O,w),H===(H=W(c))&&J?J.p(c,v):(J.d(1),J=H(c),J&&(J.c(),J.m(P,null))),c[1]?L?L.p(c,v):(L=Re(c),L.c(),L.m(G.parentNode,G)):L&&(L.d(1),L=null),c[2]&&c[3]?V?V.p(c,v):(V=Ke(c),V.c(),V.m(S.parentNode,S)):V&&(V.d(1),V=null),c[4]&&c[5]?p?p.p(c,v):(p=Qe(c),p.c(),p.m(E.parentNode,E)):p&&(p.d(1),p=null)},i:X,o:X,d(c){c&&(A(t),A(U),A(G),A(S),A(E)),J.d(),L&&L.d(c),V&&V.d(c),p&&p.d(c),z=!1,Q(K)}}}function Bt(e,t,n){let l,o,r,s,u;me(e,nt,p=>n(0,o=p)),me(e,lt,p=>n(7,r=p)),me(e,oe,p=>n(8,s=p)),me(e,Ee,p=>n(9,u=p));let m=!1,a=!1,f=null,h=!1,b=null;function g(){Y("openStorage"),ce.set(!1)}function N(){Y("openWardrobe"),ce.set(!1)}async function y(p,C){oe.update(c=>{var Oe;if(!c||!o)return c;const v=c.findIndex(st=>st.citizenid===p);if(v===-1)return c;const F=c[v],ie=F.jobData.grade.toString(),_e=C.toString();if((Oe=o.grades[ie])!=null&&Oe.isboss)return c;const ee=o.grades[_e];if(!ee)return c;if(ee.isboss)return n(5,b={employee:F,grade:C}),n(4,h=!0),c;const ot={...F,jobData:{...F.jobData,grade:C,gradeLabel:ee.name,pay:ee.payment}},Ce=[...c];return Ce[v]=ot,Ce}),await Y("updateGrade",{citizenid:p,grade:C})}async function M(p){oe.update(C=>C&&C.filter(c=>c.citizenid!==p)),n(2,a=!1),n(3,f=null),await Y("fireEmployee",{citizenid:p})}async function $(){if(!b||!o)return;const{employee:p,grade:C}=b,c=o.grades[C.toString()];if(!c){n(4,h=!1),n(5,b=null);return}oe.update(v=>{if(!v)return v;const F=v.findIndex(ee=>ee.citizenid===p.citizenid);if(F===-1)return v;const ie={...v[F],jobData:{...v[F].jobData,grade:C,gradeLabel:c.name,pay:c.payment}},_e=[...v];return _e[F]=ie,_e}),Y("updateGrade",{citizenid:p.citizenid,grade:C}),n(4,h=!1),n(5,b=null)}function T(p){n(3,f=p),n(2,a=!0)}function I(p,C){if(!o||!o.grades[0])return;const c=o.grades[0],v={jobData:{label:o.label,gradeLabel:c.name,name:o.name,pay:c.payment,grade:"0"},online:!0,citizenid:p,name:C};oe.update(F=>F?[...F,v]:[v]),Ee.update(F=>F&&F.filter(ie=>ie.citizenid!==p)),n(1,m=!1),Y("hireEmployee",{citizenid:p})}function w(p){ve.call(this,e,p)}function O(p){ve.call(this,e,p)}function q(p){ve.call(this,e,p)}const P=()=>n(1,m=!0),U=(p,C)=>y(p.citizenid,parseInt(C.currentTarget.value)),G=p=>T(p),S=p=>I(p.citizenid,p.name),E=()=>n(1,m=!1),z=()=>n(1,m=!1),K=()=>{n(2,a=!1),n(3,f=null)},W=()=>M(f.citizenid),H=()=>{n(2,a=!1),n(3,f=null)},J=p=>p.grade===b.grade,L=()=>{n(4,h=!1),n(5,b=null)},V=()=>{n(4,h=!1),n(5,b=null)};return e.$$.update=()=>{e.$$.dirty[0]&1&&n(6,l=o?Object.entries(o.grades).map(([p,C])=>({grade:parseInt(p),name:C.name,isboss:C.isboss,payment:C.payment||0})).sort((p,C)=>p.grade-C.grade):[])},[o,m,a,f,h,b,l,r,s,u,g,N,y,M,$,T,I,w,O,q,P,U,G,S,E,z,K,W,H,J,L,V]}class Gt extends Ie{constructor(t){super(),Se(this,t,Bt,Ft,be,{},null,[-1,-1])}}const Ht=()=>!window.invokeNative,Lt=(e,t=1e3)=>{if(Ht())for(const n of e)setTimeout(()=>{window.dispatchEvent(new MessageEvent("message",{data:{action:n.action,data:n.data}}))},t)};function Vt(e){let t,n;return t=new Gt({}),{c(){tt(t.$$.fragment)},m(l,o){Ne(t,l,o),n=!0},i(l){n||(x(t.$$.fragment,l),n=!0)},o(l){pe(t.$$.fragment,l),n=!1},d(l){Pe(t,l)}}}function Wt(e){let t,n,l;return n=new Ct({props:{$$slots:{default:[Vt]},$$scope:{ctx:e}}}),{c(){t=d("main"),tt(n.$$.fragment)},m(o,r){B(o,t,r),Ne(n,t,null),l=!0},p(o,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:o}),n.$set(s)},i(o){l||(x(n.$$.fragment,o),l=!0)},o(o){pe(n.$$.fragment,o),l=!1},d(o){o&&A(t),Pe(n)}}}function qt(e){return Lt([{action:"setVisible",data:!0}]),[]}class Jt extends Ie{constructor(t){super(),Se(this,t,qt,Wt,be,{})}}new Jt({target:document.getElementById("app")});
